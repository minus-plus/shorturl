<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>TinyURL</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-resource.min.js"></script>



        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    </head>
    
    <body ng-app="tinyurlApp">
        <header>
            <div class="container">
                <nav class="navbar navbar-default">
                    <div class="navbar-header">
                    <!-- there is a link here, use $routeProvide to routing-->
                        <a class="navbar-brand" href="#/">TinyURL</a>
                    </div>
                </nav>
            </div>
        </header>

        <div class="container">
            <div ng-view></div>
        </div>
        <script type="text/javascript">
        	// call api to get data
        	var app = angular.module('tinyurlApp',['ngRoute', 'ngResource']);
        	app.config(function($routeProvider) {
        		//dependencies injection, call for routeProvider object
        		$routeProvider.when('/', {
        			// set template and controller
        			templateUrl: '/public/views/get_tinyUrl.html',
        			controller: 'homeController'
        		}).otherwise({
        			redirectTo: '/'
        		});
        	});
        	app.controller('homeController', function($scope, $http, $location) {
        		$scope.submit = function() {
        			$http.post('api/v1/urls', {
        				longUrl: $scope.longUrl,
        			}).success(function(data) {
        				//$location.path('/urls/' + data.shortUrl);
        				console.log('success');
        			});
        		};
        	});
        </script>
    </body>
</html>